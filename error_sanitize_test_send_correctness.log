==================
WARNING: ThreadSanitizer: data race (pid=1944270)
  Read of size 4 at 0x7b1400000020 by main thread (mutexes: write M0):
    #0 channel_sema_signal /media/boneinscri/Expand_1/HDU/留学生辅导/1/CMPSC/channel.c:125 (channel_sanitize+0xbcdc2)
    #1 channel_receive /media/boneinscri/Expand_1/HDU/留学生辅导/1/CMPSC/channel.c:426 (channel_sanitize+0xbd231)
    #2 test_send_correctness /media/boneinscri/Expand_1/HDU/留学生辅导/1/CMPSC/test.c:246 (channel_sanitize+0xc0c0c)
    #3 single_test /media/boneinscri/Expand_1/HDU/留学生辅导/1/CMPSC/test.c:2061 (channel_sanitize+0xc6c65)
    #4 main /media/boneinscri/Expand_1/HDU/留学生辅导/1/CMPSC/test.c:2100 (channel_sanitize+0x955e)

  Previous write of size 4 at 0x7b1400000020 by thread T3 (mutexes: write M1):
    #0 my_sema_wait /media/boneinscri/Expand_1/HDU/留学生辅导/1/CMPSC/channel.c:14 (channel_sanitize+0xbd093)
    #1 channel_sema_wait /media/boneinscri/Expand_1/HDU/留学生辅导/1/CMPSC/channel.c:74 (channel_sanitize+0xbd093)
    #2 channel_send /media/boneinscri/Expand_1/HDU/留学生辅导/1/CMPSC/channel.c:353 (channel_sanitize+0xbd093)
    #3 helper_send /media/boneinscri/Expand_1/HDU/留学生辅导/1/CMPSC/test.c:88 (channel_sanitize+0xc02cb)

  As if synchronized via sleep:
    #0 usleep <null> (channel_sanitize+0x48237)
    #1 test_send_correctness /media/boneinscri/Expand_1/HDU/留学生辅导/1/CMPSC/test.c:237 (channel_sanitize+0xc0b4a)
    #2 single_test /media/boneinscri/Expand_1/HDU/留学生辅导/1/CMPSC/test.c:2061 (channel_sanitize+0xc6c65)
    #3 main /media/boneinscri/Expand_1/HDU/留学生辅导/1/CMPSC/test.c:2100 (channel_sanitize+0x955e)

  Location is heap block of size 80 at 0x7b1400000000 allocated by main thread:
    #0 malloc <null> (channel_sanitize+0x13947)
    #1 channel_mysema_init /media/boneinscri/Expand_1/HDU/留学生辅导/1/CMPSC/channel.c:53 (channel_sanitize+0xbc97c)
    #2 channel_create /media/boneinscri/Expand_1/HDU/留学生辅导/1/CMPSC/channel.c:311 (channel_sanitize+0xbcf30)
    #3 test_send_correctness /media/boneinscri/Expand_1/HDU/留学生辅导/1/CMPSC/test.c:201 (channel_sanitize+0xc095a)
    #4 single_test /media/boneinscri/Expand_1/HDU/留学生辅导/1/CMPSC/test.c:2061 (channel_sanitize+0xc6c65)
    #5 main /media/boneinscri/Expand_1/HDU/留学生辅导/1/CMPSC/test.c:2100 (channel_sanitize+0x955e)

  Mutex M0 (0x7b1800000008) created at:
    #0 pthread_mutex_init <null> (channel_sanitize+0x2dbd1)
    #1 channel_create /media/boneinscri/Expand_1/HDU/留学生辅导/1/CMPSC/channel.c:309 (channel_sanitize+0xbcf23)
    #2 test_send_correctness /media/boneinscri/Expand_1/HDU/留学生辅导/1/CMPSC/test.c:201 (channel_sanitize+0xc095a)
    #3 single_test /media/boneinscri/Expand_1/HDU/留学生辅导/1/CMPSC/test.c:2061 (channel_sanitize+0xc6c65)
    #4 main /media/boneinscri/Expand_1/HDU/留学生辅导/1/CMPSC/test.c:2100 (channel_sanitize+0x955e)

  Mutex M1 (0x7b1400000028) created at:
    #0 pthread_mutex_init <null> (channel_sanitize+0x2dbd1)
    #1 my_sema_init /media/boneinscri/Expand_1/HDU/留学生辅导/1/CMPSC/channel.c:8 (channel_sanitize+0xbc9b7)
    #2 channel_mysema_init /media/boneinscri/Expand_1/HDU/留学生辅导/1/CMPSC/channel.c:59 (channel_sanitize+0xbc9b7)
    #3 channel_create /media/boneinscri/Expand_1/HDU/留学生辅导/1/CMPSC/channel.c:311 (channel_sanitize+0xbcf30)
    #4 test_send_correctness /media/boneinscri/Expand_1/HDU/留学生辅导/1/CMPSC/test.c:201 (channel_sanitize+0xc095a)
    #5 single_test /media/boneinscri/Expand_1/HDU/留学生辅导/1/CMPSC/test.c:2061 (channel_sanitize+0xc6c65)
    #6 main /media/boneinscri/Expand_1/HDU/留学生辅导/1/CMPSC/test.c:2100 (channel_sanitize+0x955e)

  Thread T3 (tid=1944274, running) created by main thread at:
    #0 pthread_create <null> (channel_sanitize+0x422a8)
    #1 test_send_correctness /media/boneinscri/Expand_1/HDU/留学生辅导/1/CMPSC/test.c:235 (channel_sanitize+0xc0b40)
    #2 single_test /media/boneinscri/Expand_1/HDU/留学生辅导/1/CMPSC/test.c:2061 (channel_sanitize+0xc6c65)
    #3 main /media/boneinscri/Expand_1/HDU/留学生辅导/1/CMPSC/test.c:2100 (channel_sanitize+0x955e)

SUMMARY: ThreadSanitizer: data race /media/boneinscri/Expand_1/HDU/留学生辅导/1/CMPSC/channel.c:125 in channel_sema_signal
==================
ThreadSanitizer: reported 1 warnings
Running test case: test_send_correctness : Testing the send correctness ...
Running test case: test_send_correctness : Testing the send correctness ...
Running test case: test_send_correctness : Testing the send correctness ...
Running test case: test_send_correctness : Testing the send correctness ...
Running test case: test_send_correctness : Testing the send correctness ...
Running test case: test_send_correctness : Testing the send correctness ...
Running test case: test_send_correctness : Testing the send correctness ...
Running test case: test_send_correctness : Testing the send correctness ...
Running test case: test_send_correctness : Testing the send correctness ...
Running test case: test_send_correctness : Testing the send correctness ...
Running test case: test_send_correctness : Testing the send correctness ...
Running test case: test_send_correctness : Testing the send correctness ...
Running test case: test_send_correctness : Testing the send correctness ...
Running test case: test_send_correctness : Testing the send correctness ...
Running test case: test_send_correctness : Testing the send correctness ...
Running test case: test_send_correctness : Testing the send correctness ...
Running test case: test_send_correctness : Testing the send correctness ...
Running test case: test_send_correctness : Testing the send correctness ...
Running test case: test_send_correctness : Testing the send correctness ...
Running test case: test_send_correctness : Testing the send correctness ...
Running test case: test_send_correctness : Testing the send correctness ...
Running test case: test_send_correctness : Testing the send correctness ...
Running test case: test_send_correctness : Testing the send correctness ...
Running test case: test_send_correctness : Testing the send correctness ...
Running test case: test_send_correctness : Testing the send correctness ...
Running test case: test_send_correctness : Testing the send correctness ...
Running test case: test_send_correctness : Testing the send correctness ...
Running test case: test_send_correctness : Testing the send correctness ...
Running test case: test_send_correctness : Testing the send correctness ...
Running test case: test_send_correctness : Testing the send correctness ...
ALL TESTS PASSED
Tests run: 30
